---
title: 图片处理
categories: iOS音视频
---

## 一、ImageMagick

使用 [ImageMagick](http://www.imagemagick.org/) 对 png 图片做轻量压缩（基本没有减少体积），不损失图片质量，会改变图片文件 hash 值。方法：

1.   安装 ImageMagick  

	```
	$ brew install imagemagick
	```
	
2.   压缩工程目录下所有 png 文件  

	```
	find . -iname "*.png" -exec echo {} \; -exec convert {} {} \;
	```

其他用法：

```
更改文件类型
$ convert input.jpg output.png    // 增加有色边

$ convert -bordercolor red -border 25x25 image.jpg image.gif  // 加亮或变暗图片边缘，以增强3D效果

$ convert -raise 25 image.jpg image.gif  // 在图片周围增加装饰性框架。

$ convert -mattecolor gray -frame 25x25 image.jpg image.gif   // 在图片边缘增加升、降斜角

$ convert -mattecolor gray -frame 25x25+0+25 image.jpg image.gif
$ convert -mattecolor gray -frame 25x25+25+0 image.jpg image.gif   // 将 gif 文件分析为一系列的单个图片

$ convert animation.gif frame%02d.gif   // 创建一张空白图片

$ convert -size 800x600 xc:"#ddddff" ltblue.ppm
$ convert -size 800x600 null:white white.ppm
$ convert in.png -threshold 100% black.ppm  // 与 in.png 同大小
```

Mac：文件校验终端命令查看文件哈希值

```
`MD5`
$ md5 文件路径

`SHA1`
$ shasum 文件路径 
或者
$ openssl dgst -sha1 文件路径

`SHA256`
$ openssl dgst -sha256 文件路径
```

## 二、文章

[iOS 马甲包（一）图片轻量级压缩改变 hash 值](https://www.jianshu.com/p/587c85229a4c)