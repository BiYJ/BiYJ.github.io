<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title> UIActivityIndicatorView/UIRefreshControl/UIImageView + AFNetworking		 | D</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style-dark.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight-dark.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden"> UIActivityIndicatorView/UIRefreshControl/UIImageView + AFNetworking		</h1><a id="logo" href="/.">D</a><p class="description">While there is life there is hope</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title"> UIActivityIndicatorView/UIRefreshControl/UIImageView + AFNetworking		</h1><div class="post-meta"><a href="/2019/03/13/uiactivityindicatorview-uirefreshcontrol-uiimageview-afnetworking/#comments" class="comment-count"></a><p><span class="date">Mar 13, 2019</span><span><a href="/categories/AFNetworking/" class="category">AFNetworking</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>文章：<a href="https://www.cnblogs.com/machao/p/5817701.html" target="_blank" rel="noopener">AFNetworking 3.0 源码解读（十）之 UIActivityIndicatorView/UIRefreshControl/UIImageView + AFNetworking</a></p>
<p>这篇介绍 AFNetworking 中的 3 个 UIKit 中的分类。UIActivityIndicatorView、UIRefreshControl、UIImageView。读完本篇就能够明白控件是如何显示网络图片的。有兴趣话可以尝试让一个控件的 layer 也能够加载网络图片。</p>
<p>解读源码不仅仅是了解内部实现原理，还要让开发者明白在这些分类中能够使用那些功能。</p>
<h5 id="一、UIActivityIndicatorView-AFNetworking"><a href="#一、UIActivityIndicatorView-AFNetworking" class="headerlink" title="一、UIActivityIndicatorView+AFNetworking"></a>一、UIActivityIndicatorView+AFNetworking</h5><p>/*<em><br> This category adds methods to the UIKit framework’s `UIActivityIndicatorView` class. The methods in this category provide support for automatically starting and stopping animation depending on the loading state of a session task.
 </em>/<br>@interface UIActivityIndicatorView (AFNetworking)</p>
<p>这个分类增加了 UIActivityIndicatorView 的一个方法。只要给传入一个 task，UIActivityIndicatorView 会根据数据的加载情况自动开始动画或结束动画。</p>
<p>这个分类需要监听 AFNetworking 中的网络状态的通知。</p>
<p>按照通常的想法是：只要监听了通知然后设置自己的状态就完事了，然而这并不是好的设计。一个控件的某项新的功能应该交给一个专门负责这个功能的人去完成，这才是好的设计。</p>
<p>因此我们给 UIActivityIndicatorView 扩展了一个属性 af_notificationObserver，这个属性是专门处理上边说的事件的管理者。</p>
<p>伪代码：</p>
<p>- (通知监听者 <em>)af_notificationObserver<br>{<br>    return 通知监听者;<br>}<br>- (void)setAnimatingWithStateOfTask:(NSURLSessionTask </em>)task<br>{<br>    // 监听者根据 task 来做一些事;<br>}</p>
<p>这样写的好处是：当想扩展别的功能的时候，只需要再添加一个其他功能的负责人就可以，所有的逻辑都是负责人自己实现。这种思想简直完美。我们看 AFNetworking 中对上边伪代码的实现。相信大多数朋友应该知道，往分类中添加属性使用 Runtime，不明白的可以看这篇 <a href="http://www.cnblogs.com/machao/p/5446591.html" target="_blank" rel="noopener">Objective-C runtime的常见应用</a>。</p>
<p>- (AFActivityIndicatorViewNotificationObserver <em>)af_notificationObserver<br>{<br>    // 获取<br>    AFActivityIndicatorViewNotificationObserver </em>notificationObserver = objc_getAssociatedObject(self,<br>                                                                             @selector(af_notificationObserver));<br>    if (notificationObserver == nil) {<br>        // 生成观察者<br>        notificationObserver = [[AFActivityIndicatorViewNotificationObserver alloc] initWithActivityIndicatorView:self];<br>        // 关联<br>        objc_setAssociatedObject( self,<br>                                  @selector(af_notificationObserver),<br>                                  notificationObserver,<br>                                  OBJC_ASSOCIATION_RETAIN_NONATOMIC);<br>    }<br>    return notificationObserver;<br>}</p>
<p>- (void)setAnimatingWithStateOfTask:(NSURLSessionTask *)task<br>{<br>    [[self af_notificationObserver] setAnimatingWithStateOfTask:task];<br>}</p>
<p>来看看这个 af_notificationObserver 有什么。</p>
<p>@interface AFActivityIndicatorViewNotificationObserver : NSObject</p>
<p>// 控件<br>@property (readonly, nonatomic, weak) UIActivityIndicatorView <em>activityIndicatorView;<br>/\</em>*<br> * 传入控件对象<br> */<br>- (instancetype)initWithActivityIndicatorView:(UIActivityIndicatorView <em>)activityIndicatorView;<br>/\</em>*<br> * 通过这个方法来操控 UIActivityIndicatorView<br> */<br>- (void)setAnimatingWithStateOfTask:(NSURLSessionTask *)task;</p>
<p>@end</p>
<p>af_notificationObserver 只需要上面的属性和方法，那就剩下 setAnimatingWithStateOfTask: 这个方法的实现了。</p>
<p>- (void)setAnimatingWithStateOfTask:(NSURLSessionTask <em>)task<br>{<br>    NSNotificationCenter </em>notificationCenter = [NSNotificationCenter defaultCenter];</p>
<pre><code>// 移除通知
\[notificationCenter removeObserver:self name:AFNetworkingTaskDidResumeNotification object:nil\];
\[notificationCenter removeObserver:self name:AFNetworkingTaskDidSuspendNotification object:nil\];
\[notificationCenter removeObserver:self name:AFNetworkingTaskDidCompleteNotification object:nil\];

if (task) {
    // task 的状态不等于完成
    if (task.state != NSURLSessionTaskStateCompleted) {
        UIActivityIndicatorView *activityIndicatorView = self.activityIndicatorView;

        // 状态为运行中就开始动画，否则为停止
        if (task.state == NSURLSessionTaskStateRunning) {
            \[activityIndicatorView startAnimating\];
        }
        else {
            \[activityIndicatorView stopAnimating\];
        }

        // 添加 AFNetworking 状态通知
        \[notificationCenter addObserver:self 
                               selector:@selector(af_startAnimating) 
                                   name:AFNetworkingTaskDidResumeNotification 
                                 object:task\];
        \[notificationCenter addObserver:self 
                               selector:@selector(af_stopAnimating)
                                   name:AFNetworkingTaskDidCompleteNotification
                                 object:task\];
        \[notificationCenter addObserver:self
                               selector:@selector(af_stopAnimating)
                                   name:AFNetworkingTaskDidSuspendNotification 
                                 object:task\];
    }
}
</code></pre><p>}</p>
<h5 id="二、UIRefreshControl-AFNetworking"><a href="#二、UIRefreshControl-AFNetworking" class="headerlink" title="二、UIRefreshControl+AFNetworking"></a>二、UIRefreshControl+AFNetworking</h5><p>与上面的分类基本相同。</p>
<h5 id="三、UIImageView-AFNetworking"><a href="#三、UIImageView-AFNetworking" class="headerlink" title="三、UIImageView+AFNetworking"></a>三、UIImageView+AFNetworking</h5><p>在 AFImageDownloader 那篇文章中提到过，要异步显示网络上的图片，就要把图片数据缓存下来才行。因此，要赋予 UIImageView 这项功能，就需要使用 AFImageDownloader 来获取图片数据。</p>
<p>UIImageView 是最常用的显示图片的控件。额外增加了 placeholderImage（占位图片）这个属性和 success、failure 这两个 block 来自定义一些事件。最后增加了两个取消某个状态下的图片下载的方法。</p>
<p>+ (void)setSharedImageDownloader:(AFImageDownloader *)imageDownloader;</p>
<p>- (void)setImageWithURL:(NSURL *)url;</p>
<p>- (void)setImageWithURL:(NSURL <em>)url<br>       placeholderImage:(nullable UIImage </em>)placeholderImage;</p>
<p>/**<br> Asynchronously downloads an image from the specified URL request, and sets it once the request is finished. Any previous image request for the receiver will be cancelled.</p>
<p> If the image is cached locally, the image is set immediately, otherwise the specified placeholder image will be set immediately, and then the remote image will be set once the request is finished.</p>
<p> If a success block is specified, it is the responsibility of the block to set the image of the image view before returning. If no success block is specified, the default behavior of setting the image with `self.image = image` is applied.<br> */<br>- (void)setImageWithURLRequest:(NSURLRequest <em>)urlRequest<br>              placeholderImage:(nullable UIImage </em>)placeholderImage<br>                       success:(nullable void (^)(NSURLRequest *request, NSHTTPURLResponse * _Nullable response, UIImage <em>image))success<br>                       failure:(nullable void (^)(NSURLRequest \</em>request, NSHTTPURLResponse * _Nullable response, NSError *error))failure;</p>
<p>/**<br> * Cancels any executing image operation for the receiver, if one exists.<br> */<br>- (void)cancelImageDownloadTask;</p>
<p>只需要实现参数最多的那个方法就行了。这应该就是所谓的尾调函数。</p>
<p>@interface UIImageView (_AFNetworking)<br>@property (readwrite, nonatomic, strong, setter = af_setActiveImageDownloadReceipt:) AFImageDownloadReceipt *af_activeImageDownloadReceipt;<br>@end</p>
<p>这个属性是图片依据。</p>
<p>- (AFImageDownloadReceipt <em>)af_activeImageDownloadReceipt<br>{<br>    return (AFImageDownloadReceipt </em>)objc_getAssociatedObject(self, @selector(af_activeImageDownloadReceipt));<br>}</p>
<p>- (void)af_setActiveImageDownloadReceipt:(AFImageDownloadReceipt *)imageDownloadReceipt<br>{<br>    objc_setAssociatedObject(self,<br>                             @selector(af_activeImageDownloadReceipt),<br>                             imageDownloadReceipt,<br>                             OBJC_ASSOCIATION_RETAIN_NONATOMIC);<br>}</p>
<p>通过运行时为 @selector(af_activeImageDownloadReceipt) 设置了关联值，同样的原理。 sharedImageDownloader 也是这么设置的。</p>
<p>+ (AFImageDownloader *)sharedImageDownloader {<br>    return objc_getAssociatedObject(self, @selector(sharedImageDownloader)) ?: [AFImageDownloader defaultInstance];<br>}</p>
<p>+ (void)setSharedImageDownloader:(AFImageDownloader *)imageDownloader {<br>    objc_setAssociatedObject(self, @selector(sharedImageDownloader), imageDownloader, OBJC_ASSOCIATION_RETAIN_NONATOMIC);<br>}</p>
<p>在这里说下这个 objc_setAssociatedObject方法，其中第二个参数是一个地址，因此可以用 @selector 或者自定义一个全局的 const 字段，取它的地址。</p>
<p>- (void)cancelImageDownloadTask {<br>    if (self.af_activeImageDownloadReceipt != nil) {<br>        [[self.class sharedImageDownloader] cancelTaskForImageDownloadReceipt:self.af_activeImageDownloadReceipt];<br>        [self clearActiveDownloadInformation];<br>     }<br>}</p>
<p>- (void)clearActiveDownloadInformation {<br>    self.af_activeImageDownloadReceipt = nil;<br>}</p>
<p>- (BOOL)isActiveTaskURLEqualToURLRequest:(NSURLRequest *)urlRequest {<br>    return [self.af_activeImageDownloadReceipt.task.originalRequest.URL.absoluteString isEqualToString:urlRequest.URL.absoluteString];<br>}</p>
<p>来看这个核心方法，处理手法和之前的代码如出一辙，值得学习的是核心方法中的判断比较详细。  </p>
<p>- (void)setImageWithURLRequest:(NSURLRequest <em>)urlRequest<br>              placeholderImage:(UIImage </em>)placeholderImage<br>                       success:(void (^)(NSURLRequest *request, NSHTTPURLResponse * _Nullable response, UIImage <em>image))success<br>                       failure:(void (^)(NSURLRequest \</em>request, NSHTTPURLResponse * _Nullable response, NSError *error))failure<br>{<br>    // urlRequest 不正确<br>    if ([urlRequest URL] == nil) {</p>
<pre><code>    // 直接设置占位图片
    self.image = placeholderImage;
    // 回调
    if (failure) {
        NSError *error = \[NSError errorWithDomain:NSURLErrorDomain code:NSURLErrorBadURL userInfo:nil\];
        failure(urlRequest, nil, error);
    }
    return;
}

// 如果当前活动的下载和本次下载相同，则返回
if (\[self isActiveTaskURLEqualToURLRequest:urlRequest\]) {
    return;
}

// 取消之前的下载任务
\[self cancelImageDownloadTask\];

// 取出 downloader
AFImageDownloader *downloader = \[\[self class\] sharedImageDownloader\];
// 取出缓存
id &lt;AFImageRequestCache&gt; imageCache = downloader.imageCache;

//Use the image from the image cache if it exists
UIImage *cachedImage = \[imageCache imageforRequest:urlRequest withAdditionalIdentifier:nil\];

if (cachedImage) {

    // 成功回调，但不会赋值
    if (success) {
        success(urlRequest, nil, cachedImage);
    } 
    else {
        self.image = cachedImage;
    }
    // 清除激活下载信息
    \[self clearActiveDownloadInformation\];
} 
else {
    // 先设置占位图片
    if (placeholderImage) {
        self.image = placeholderImage;
    }

    \_\_weak \_\_typeof(self)weakSelf = self;
    NSUUID *downloadID = \[NSUUID UUID\];
    AFImageDownloadReceipt *receipt;
    receipt = \[downloader
               downloadImageForURLRequest:urlRequest
               withReceiptID:downloadID
               success:^(NSURLRequest * \_Nonnull request, NSHTTPURLResponse * \_Nullable response, UIImage * _Nonnull responseObject) {
                   \_\_strong \_\_typeof(weakSelf)strongSelf = weakSelf;
                   if (\[strongSelf.af_activeImageDownloadReceipt.receiptID isEqual:downloadID\]) {
                       if (success) {
                           success(request, response, responseObject);
                       } else if (responseObject) {
                           strongSelf.image = responseObject;
                       }
                       \[strongSelf clearActiveDownloadInformation\];
                   }

               }
               failure:^(NSURLRequest * \_Nonnull request, NSHTTPURLResponse * \_Nullable response, NSError * _Nonnull error) {
                   \_\_strong \_\_typeof(weakSelf)strongSelf = weakSelf;
                    if (\[strongSelf.af_activeImageDownloadReceipt.receiptID isEqual:downloadID\]) {
                        if (failure) {
                            failure(request, response, error);
                        }
                        \[strongSelf clearActiveDownloadInformation\];
                    }
               }\];

    self.af_activeImageDownloadReceipt = receipt;
}
</code></pre><p>}</p>
<p>方法不是最重要的，重要是梳理出这一整套的逻辑和想法，下面就来分析分析。</p>
<ol>
<li>首先规定，使用这个分类每加载一次图片生成一个 af_activeImageDownloadReceipt 凭据，这个凭据一旦下载完成后，需要置为 nil；</li>
<li>使用上边的这个最长的方法来加载图片；</li>
<li>判断 urlRequest 是不是有效的。无效的话取消之前的下载，然后赋值替代图片；</li>
<li>urlRequest 有效，再判断当前下载的跟之前正在下载的 URL 是一样的；</li>
<li>取消之前的下载任务</li>
<li>在缓存中取图片，如果图片存在，那么再看看是否设置了 success，设置了就调用这个 block，否则就使用替代图片。</li>
<li>请求失败处理方法同上边 6 一样。</li>
</ol>
</div><div class="post-copyright"><blockquote><p>原文作者: BiYJ</p><p>原文链接: <a href="http://yoursite.com/2019/03/13/uiactivityindicatorview-uirefreshcontrol-uiimageview-afnetworking/">http://yoursite.com/2019/03/13/uiactivityindicatorview-uirefreshcontrol-uiimageview-afnetworking/</a></p><p>版权声明: 转载请注明出处(必须保留原文作者署名原文链接)</p></blockquote></div><div class="tags"></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/03/13/uibutton-uiprogressview-uiwebview-afnetworking/" class="pre"> UIButton/UIProgressView/UIWebView + AFNetworking		</a><a href="/2019/03/12/e9-9d-a2-e5-90-91-e5-af-b9-e8-b1-a1-e7-9a-84-e5-87-a0-e5-a4-a7-e8-ae-be-e8-ae-a1-e5-8e-9f-e5-88-99/" class="next"> 面向对象的几大设计原则		</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#一、UIActivityIndicatorView-AFNetworking"><span class="toc-text">一、UIActivityIndicatorView+AFNetworking</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#二、UIRefreshControl-AFNetworking"><span class="toc-text">二、UIRefreshControl+AFNetworking</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#三、UIImageView-AFNetworking"><span class="toc-text">三、UIImageView+AFNetworking</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/iOS 编译过程原理(2)/">iOS 编译过程原理(2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/BFPRT算法/">BFPRT 算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/全排列/">全排列</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/直接插入排序/">直接插入排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/01-背包/">0-1 背包</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/armv7、armv7s、arm64/">armv7、armv7s、arm64</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/Archives配置/">Archives 配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/App-Thinning/">App Thinning</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/AFNetworking/">AFNetworking</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/iOS 内存管理：MRC、ARC/">iOS 内存管理：从 MRC 到 ARC 实践</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AFNetworking/">AFNetworking</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/GLSL/">GLSL</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Games/">Games</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode/">Leetcode</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MJRefresh/">MJRefresh</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac/">Mac</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OC/">OC</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OPENGL/">OPENGL</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactiveCocoa/">ReactiveCocoa</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SDWebImage/">SDWebImage</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpriteKit/">SpriteKit</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Xcode/">Xcode</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/内存管理/">内存管理</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/减治法/">减治法</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分治法/">分治法</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/动态规划/">动态规划</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/变治法/">变治法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/图像视频/">图像视频</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/多线程/">多线程</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习笔记/">学习笔记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工程发布/">工程发布</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/底层原理/">底层原理</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/性能优化/">性能优化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/排序算法/">排序算法</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/效率-工具/">效率 | 工具</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据存储/">数据存储</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构设计/">架构设计</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法相关/">算法相关</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络编程/">网络编程</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/视图-amp-动画/">视图 &amp; 动画</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络/">计算机网络</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计策略/">设计策略</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读源码/">阅读源码</a><span class="category-list-count">8</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/排序算法/" style="font-size: 15px;">排序算法</a> <a href="/tags/分治法/" style="font-size: 15px;">分治法</a> <a href="/tags/动态规划/" style="font-size: 15px;">动态规划</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://www.liaoxuefeng.com/" title="廖雪峰的官方网站" target="_blank">廖雪峰的官方网站</a><ul></ul><a href="https://blog.ibireme.com/" title="ibireme" target="_blank">ibireme</a><ul></ul><a href="https://www.cnblogs.com/machao/" title="马在路上" target="_blank">马在路上</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">BiYJ.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>