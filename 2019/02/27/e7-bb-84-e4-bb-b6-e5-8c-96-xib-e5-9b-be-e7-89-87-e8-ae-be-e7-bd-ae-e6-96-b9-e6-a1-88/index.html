<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title> 组件化 xib 图片设置方案		 | D</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style-dark.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight-dark.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden"> 组件化 xib 图片设置方案		</h1><a id="logo" href="/.">D</a><p class="description">While there is life there is hope</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title"> 组件化 xib 图片设置方案		</h1><div class="post-meta"><a href="/2019/02/27/e7-bb-84-e4-bb-b6-e5-8c-96-xib-e5-9b-be-e7-89-87-e8-ae-be-e7-bd-ae-e6-96-b9-e6-a1-88/#comments" class="comment-count"></a><p><span class="date">Feb 27, 2019</span><span><a href="/categories/图像视频/" class="category">图像视频</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><p>工程采用 cocoaPods + git 实现组件化功能，遇到了图片加载失败问题，系统的 [UIImage imageNamed:@””] 方法加载的是 mainBundle 中的资源，显然无法获取到所在或其它组件中的图片资源。</p>
<p>为了解决这个问题，显然需要获取到图片所在的 bundle，并从中加载资源。</p>
<p># pragma mark - 获取 xib、图片资源</p>
<p>/**<br> *  @param   cls  与资源在同一目录下的类，用于获取 bundle<br> *  @param   module   资源名<br> */<br>+ (NSBundle <em>)bundleWithClassName:(Class)cls moduleName:(NSString</em>)module<br>{<br>    if (cls == nil) {<br>        return [NSBundle mainBundle];<br>    }</p>
<pre><code>// 根据 class 获取 bundle
NSBundle * bundle = \[NSBundle bundleForClass:cls\];
NSURL * bundleURL = \[bundle URLForResource:module withExtension:@&quot;bundle&quot;\];

// bundle 未找到
if (bundleURL == nil) {

    __block UINavigationController * nav;

    \[\[UIApplication sharedApplication\].windows enumerateObjectsUsingBlock:^(\_\_kindof UIWindow * \_Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
        UIViewController * windowVC = obj.rootViewController;
        if (\[windowVC isKindOfClass:\[UINavigationController class\]\]) {
            nav = (UINavigationController *)windowVC;
            *stop = YES;
        }
    }\];

    // 根据当前 navigationViewController 的堆栈 vc.class 获取 bundle 
    if (nav != nil) {
        Class callerCls = \[nav.viewControllers.firstObject class\];
        bundle = \[NSBundle bundleForClass:callerCls\];
        bundleURL = \[bundle URLForResource:module withExtension:@&quot;bundle&quot;\];
    }

    // 只能返回 mainBundle
    if (bundleURL == nil) {
        return \[NSBundle mainBundle\];
    }
}
return \[NSBundle bundleWithURL:bundleURL\];
</code></pre><p>}</p>
<p>+ (UIImage <em>)imageNamed:(NSString </em>)imageName module:(NSString *)module cls:(Class)cls<br>{<br>    if (module == nil || module.length == 0) {<br>        module = @”IOS”;  // 默认的资源名<br>    }</p>
<pre><code>if (cls == nil) {
    cls = \[self class\];  // 默认的类
}

return \[UIImage imageNamed:imageName
                  inBundle:\[self bundleWithClassName:cls moduleName:module\] compatibleWithTraitCollection:nil\];
</code></pre><p>}</p>
<p>执行步骤：</p>
<p>①、根据传入的 class 和 module 获取资源所在 url；</p>
<p>②、第 1 步无效时，根据视图堆栈获取到 class，再执行第 1 步同样的方法；</p>
<p>③、第 1、2 步无效时，返回 mainBundle（图片可能加载失败）。</p>
<p>找到 bundle 之后，需要给 UIImageView、UIButton 设置图片。</p>
<p>为了解决 xib 设置图片的问题，首先想到了 AOP（<a href="https://baike.baidu.com/item/%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B" target="_blank" rel="noopener">面向切面编程</a>）。通过 hook xib 加载图片的方法，然后将方法偷偷替换为imageNamed:inBundle:，但是 hook 了 UIImage 所有加载图片的方法，没有一个方法能拿到 xib 上所设置的图片名称，也就不知道图片该如何加载。</p>
<p>为了验证这个问题，首先定义一个 UIImageView 的子类，重写 initWithCoder: 方法。</p>
<p>- (instancetype)initWithCoder:(NSCoder *)aDecoder<br>{<br>     id temp = [super initWithCoder:aDecoder];</p>
<pre><code>return temp;
</code></pre><p>}</p>
<p>发现在执行 [super initWithCoder:aDecoder] 之前通过 lldb 查看 self.image 是 nil。当执行之后 self.image 就有值了。因此推断图片的信息（图片名称、路径等信息）都在 aDecoder 中！在网上搜索了一些资料后发现 aDecoder 有一些固定的 key。</p>
<p>所以接下来通过 hook UINibDecoder、UIImageView、UIButton 类，获取图片名称。</p>
<p>/**  hook UINibDecoder 类的 decodeObjectForKey，用于获取图片名称  **/<br>@interface HookTool : NSObject</p>
<p>@end</p>
<p>#import &lt;objc/runtime.h&gt;</p>
<p>#import “XUtil.h”</p>
<p>NSString <em> normal_imageName;  // 全局变量。不能用 @property 或者  {  NSString </em> normal_imageName;  }  会崩溃<br>NSString * select_imageName;  // 选中状态的图片。经过打印显示，所有状态的 key 值都是 UIResourceName，输出顺序为：normal -》highlighted -》selected -》disabled</p>
<p>@implementation HookTool</p>
<p>+ (void)load<br>{<br>    // hook UINibDecoder      - decodeObjectForKey:<br>    NSString* clsName = [NSString stringWithFormat:@”redoce%@biNIU”, @”D”];<br>    clsName = [XUtil stringByReversed:clsName];</p>
<pre><code>\[HookTool exchangeInstanceMethod:NSClassFromString(clsName)
                     originalSEL:@selector(decodeObjectForKey:)
                     swizzledSEL:@selector(swizzle_decodeObjectForKey:)\];

// hook UIImageView        - initWithCoder:
\[HookTool exchangeInstanceMethod:UIImageView.class
                     originalSEL:@selector(initWithCoder:)
                     swizzledSEL:@selector(swizzle\_imageView\_initWithCoder:)\];

// hook UIButton        - initWithCoder:
\[HookTool exchangeInstanceMethod:UIButton.class
                     originalSEL:@selector(initWithCoder:)
                     swizzledSEL:@selector(swizzle\_button\_initWithCoder:)\];
</code></pre><p>}</p>
<p>- (id)swizzle_decodeObjectForKey:(NSString <em>)key<br>{<br>    Method originalMethod = class_getInstanceMethod([HookTool class], @selector(swizzle_decodeObjectForKey:));<br>    IMP function = method_getImplementation(originalMethod);<br>    id (\</em>functionPoint)(id, SEL, id) = (id (*)(id, SEL, id)) function;<br>    id value = functionPoint(self, _cmd, key);</p>
<pre><code>NSString* propKey = @&quot;emaNecruoseRIU&quot;;
propKey = \[XUtil stringByReversed:propKey\];
if (\[key isEqualToString:propKey\]) {
    if (normal_imageName) {
        select_imageName = value;
    }
    else {
        normal_imageName = value;
    }
}

return value;
</code></pre><p>}</p>
<p>/**<br> *  @brief  hook UIImageView 的 initWithCode: 方法<br> */<br>- (id)swizzle_imageView_initWithCoder:(NSCoder *)aDecoder<br>{<br>    // 执行顺序：initWithCoder -》DecoderWithKey -》setImage：，所以每次给 imageView 设置图片时，需要将之前的置空。<br>    // tabbarItem 的图片设置不会执行 initWithCoder，如果不置空，会导致 imageView 设置成和 tabbarItem 一样的图片。<br>    normal_imageName = nil;<br>    select_imageName = nil;</p>
<pre><code>UIImageView * instance = (UIImageView *)\[self swizzle\_imageView\_initWithCoder:aDecoder\];

if (normal\_imageName &amp;&amp; \[normal\_imageName isKindOfClass:\[NSString class\]\] &amp;&amp; normal_imageName.length &gt; 0) {

    UIImage * normalImage = \[HookTool imageAfterSearch:normal_imageName\];
    // 赋值
    if (normalImage) {
        instance.image = normalImage;
    }
    normal_imageName = nil;
    select_imageName = nil;
}

return instance;
</code></pre><p>}</p>
<p>/**<br> *  @brief  hook UIButton 的 initWithCode: 方法<br> */<br>- (id)swizzle_button_initWithCoder:(NSCoder *)aDecoder<br>{<br>    // 执行顺序：initWithCoder -》DecoderWithKey -》setImage：，所以每次给 button 设置图片时，需要将之前的置空。<br>    // tabbarItem 的图片设置不会执行 initWithCoder，如果不置空，会导致 button 设置成和 tabbarItem 一样的图片。<br>    normal_imageName = nil;<br>    select_imageName = nil;</p>
<pre><code>UIButton * instance = (UIButton *)\[self swizzle\_button\_initWithCoder:aDecoder\];

// 正常状态
if (normal\_imageName &amp;&amp; \[normal\_imageName isKindOfClass:\[NSString class\]\] &amp;&amp; normal_imageName.length &gt; 0) {

    UIImage * normalImage = \[HookTool imageAfterSearch:normal_imageName\];
    if (normalImage) {
        \[instance setImage:normalImage forState:UIControlStateNormal\];
    }
    normal_imageName = nil;
}

// 选中状态
if (select\_imageName &amp;&amp; \[select\_imageName isKindOfClass:\[NSString class\]\] &amp;&amp; select_imageName.length &gt; 0) {

    UIImage * selectImage = \[HookTool imageAfterSearch:select_imageName\];
    if (selectImage) {
        \[instance setImage:selectImage forState:UIControlStateSelected\];
    }
    select_imageName = nil;
}

return instance;
</code></pre><p>}</p>
<p>/**<br> *  @brief   获取查找后的图片<br> */<br>+ (UIImage <em>)imageAfterSearch:(NSString </em>)imageName<br>{<br>    UIImage * resultImage = [XUtil imageNamed:imageName module:nil cls:nil];</p>
<pre><code>// 去 mainBundle 中找
if (!resultImage) {
    resultImage = \[UIImage imageNamed:imageName\];
}

return resultImage;
</code></pre><p>}</p>
<p>#pragma mark - Tool<br>/**<br> *  @brief   替换方法实现<br> */<br>+ (void)exchangeInstanceMethod:(Class)otherClass originalSEL:(SEL)originalSEL swizzledSEL:(SEL)swizzledSEL<br>{<br>    Method originalMethod = class_getInstanceMethod(otherClass, originalSEL);<br>    Method swizzledMethod = class_getInstanceMethod(self, swizzledSEL);</p>
<pre><code>// otherClass 添加替换后的 SEL，避免 unrecognizeSelectorSentToInstance 错误
class_addMethod( otherClass,
                 swizzledSEL,
                 method_getImplementation(originalMethod),
                 method_getTypeEncoding(originalMethod));

// 替换 otherClass 类的旧方法实现
BOOL c = class_addMethod( otherClass,
                          originalSEL,
                          method_getImplementation(swizzledMethod),
                          method_getTypeEncoding(swizzledMethod));

if (!c) {
    method_exchangeImplementations(originalMethod, swizzledMethod);
}
</code></pre><p>}</p>
<p>其中 XUtil 包含了获取 bundle 的方法和以下反转字符串的方法。</p>
<p>+ (NSString <em>)stringByReversed:(NSString</em>)origStr<br>{<br>    NSMutableString *s = [NSMutableString string];<br>    for (NSUInteger i=origStr.length; i&gt;0; i–) {<br>        [s appendString:[origStr substringWithRange:NSMakeRange(i-1, 1)]];<br>    }<br>    return s;<br>}</p>
<p>这种方式不能区分 image 和 backgroundImage、normal 和 Selected，使用场景受到一些限制。</p>
</div><div class="post-copyright"><blockquote><p>原文作者: BiYJ</p><p>原文链接: <a href="http://yoursite.com/2019/02/27/e7-bb-84-e4-bb-b6-e5-8c-96-xib-e5-9b-be-e7-89-87-e8-ae-be-e7-bd-ae-e6-96-b9-e6-a1-88/">http://yoursite.com/2019/02/27/e7-bb-84-e4-bb-b6-e5-8c-96-xib-e5-9b-be-e7-89-87-e8-ae-be-e7-bd-ae-e6-96-b9-e6-a1-88/</a></p><p>版权声明: 转载请注明出处(必须保留原文作者署名原文链接)</p></blockquote></div><div class="tags"></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/02/27/e4-bf-ae-e6-94-b9-e9-a1-b9-e7-9b-ae-e5-90-8d-e7-a7-b0/" class="pre"> 修改项目名称		</a><a href="/2019/02/26/e4-be-9d-e8-b5-96-e6-b3-a8-e5-85-a5/" class="next"> 依赖注入		</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/06/13/WKWebView/">WKWebView</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/iOS 编译过程原理(2)/">iOS 编译过程原理(2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/BFPRT算法/">BFPRT 算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/全排列/">全排列</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/01-背包/">0-1 背包</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/直接插入排序/">直接插入排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/armv7、armv7s、arm64/">armv7、armv7s、arm64</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/Archives配置/">Archives 配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/App-Thinning/">App Thinning</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/23/AFNetworking/">AFNetworking</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AFNetworking/">AFNetworking</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/GLSL/">GLSL</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Games/">Games</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode/">Leetcode</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MJRefresh/">MJRefresh</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac/">Mac</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OC/">OC</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OPENGL/">OPENGL</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactiveCocoa/">ReactiveCocoa</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SDWebImage/">SDWebImage</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpriteKit/">SpriteKit</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Xcode/">Xcode</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/内存管理/">内存管理</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/减治法/">减治法</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分治法/">分治法</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/动态规划/">动态规划</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/变治法/">变治法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/图像视频/">图像视频</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/多线程/">多线程</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习笔记/">学习笔记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工程发布/">工程发布</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/底层原理/">底层原理</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/性能优化/">性能优化</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/排序算法/">排序算法</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/效率-工具/">效率 | 工具</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据存储/">数据存储</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构设计/">架构设计</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法相关/">算法相关</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络编程/">网络编程</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/视图-amp-动画/">视图 &amp; 动画</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络/">计算机网络</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计策略/">设计策略</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读源码/">阅读源码</a><span class="category-list-count">8</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/排序算法/" style="font-size: 15px;">排序算法</a> <a href="/tags/动态规划/" style="font-size: 15px;">动态规划</a> <a href="/tags/分治法/" style="font-size: 15px;">分治法</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="https://www.liaoxuefeng.com/" title="廖雪峰的官方网站" target="_blank">廖雪峰的官方网站</a><ul></ul><a href="https://blog.ibireme.com/" title="ibireme" target="_blank">ibireme</a><ul></ul><a href="https://www.cnblogs.com/machao/" title="马在路上" target="_blank">马在路上</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">BiYJ.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>